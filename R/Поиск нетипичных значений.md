Нетипичные значения - значения которые сильно отличаются от медианы. Для их поиска сначала нужно определить границы типичны значений. Определим понятия квартиль. Квартиль - четвертая часть от всех значений выборки, разделяют на следующие части:
- Первый квартиль (Q1) - это значения входящие в первые 25% упорядоченной выборки;
- Второй квартиль (Q2) - это значения входящие в первую половину 50% упорядоченной выборки или называют еще медианой;
- Третий квартиль (Q3) - это значения входящие в 75% упорядоченной выборки;
- Четвертый квартиль (Q4) - это все значения входящие в выборку.
**Нижняя граница типичных значений**
$$Q1 - 1.5 * (Q3 - Q1)$$
**Верхняя граница типичных значений**
$$Q1 + 1.5 * (Q3 - Q1)$$
После нахождения границ типичных значений, следует сравнить все значения и выделить те которые выходят за границы.
**примеры:**
```R
iqr <- IQR(sup$Total)
# подсчет разницы Q3 и Q1
q1 <- quantile(sup$Total, 0.25)
# определение первого квартиля
q3 <- quantile(sup$Total, 0.75)
# определение третьего квартиля
low_b <- q1 - 1.5 * iqr
# подсчет нижней границы типичных значений
up_b <- q3 + 1.5 * iqr
# подсчет верхней границы типичных значений
extra_dat <- sup[sup$Total < low_b | sup$Total > up_b, ]
# отбор данных нетипичных значений и сохранение их в отдельный датафрейм
summary(extra_dat)
```
Поиск нетипичных значений можно произвести графическим способом.
**примеры:**
```R
boxplot(sup$Total)
# строим диаграмму 'box plot', на ней видны все нетипичные значения 
# которые выходят за пределы графика
p <- boxplot(sup$Total)
# сохраняем данные графика в переменную
c_p <- p$out
# сохраняем нетепичные значения, которые по умолчанию сохранились в 
# вектор 'out'
extra_dat_p <- sup[sup$Total %in% c_p, ]
# отбор данных нетипичных значений и сохранение их в отдельный датафрейм
```
**результат:**
![[box_plot.jpeg]]